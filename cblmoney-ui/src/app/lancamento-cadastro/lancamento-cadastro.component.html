<div class="container">

  <form #formulario ="ngForm" autocomplete="off">
    <div class="ui-g">
      <div class="ui-g-12">
        <h1>Novo Lançamento</h1>
      </div>

      <div class="ui-g-12">
        <p-selectButton [options]="tipos" #tipo></p-selectButton>
      </div>
      <div class="ui-g-6 ui-md-3 ui-fluid">
        <label>Vencimento*</label>
        <p-calendar dateFormat="dd/mm/yy" [showIcon]="true"
        required name="vencimento" #vencimento="ngModel" ngModel></p-calendar>
        <div *ngIf="vencimento.hasError('required') && vencimento.touched" class=  "ui-message ui-messages-error">Informe uma data de Vencimento</div>
      </div>

      <div class="ui-g-6 ui-md-3 ui-fluid">
        <label>{{tipo.value === 'RECEITA'? 'Recebimento' : 'Pagamento'}}</label>
        <p-calendar dateFormat="dd/mm/yy" [showIcon]="true"></p-calendar>
      </div>

      <div class="ui-g-12 ui-md-9 ui-fluid">
        <label>Descrição*</label>
        <input pInputText type="text" name="descricao" ngModel #descricao="ngModel" required minlength="10" />
        <div *ngIf="descricao.hasError('required') && descricao.touched" class="ui-message ui-messages-error">
          Informe uma descrição
        </div>
        <div *ngIf="descricao.hasError('minlength') && descricao.dirty" class="ui-message ui-messages-error">
          Mínimo de {{descricao.errors.minlength.requiredLength}} caracteres. Você digitou apenas {{descricao.errors.minlength.actualLength}}
        </div>
      </div>

      <div class="ui-g-12 ui-md-3  ui-fluid">
        <label>Valor*</label>
        <input pInputText type="text" placeholder="0,00" currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',',allowNegative: false }"
          ngModel name="valor" #valor = "ngModel" required/>
          <div *ngIf = "valor.hasError('required') && valor.touched" class = "ui-message ui-messages-error">Informe um valor</div>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Categoria*</label>
        <p-dropdown [options]="categorias"
        [autoWidth]="false"  ngModel placeholder="Selecione uma categoria" [filter]="true"
        required name = "categoria"></p-dropdown>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Pessoa*</label>
        <p-dropdown [options]="pessoas" ngModel name="pessoa" [autoWidth]="false" #pessoa placeholder="Selecione uma pessoa" [filter]="true"></p-dropdown>
      </div>
      <div class="ui-g-12 ui-fluid">
        <label>Observações</label>
        <textarea pInputTextarea rows="3"></textarea>
      </div>
    </div>
    <div class="ui-g-12">
      <button pButton type="submit" label="Salvar" style="margin-right: 5px" [disabled]="formulario.invalid"></button>
      <button pButton label="novo" class="ui-button-info" style="margin-right: 5px"></button>
      <a href="javascript:;">Voltar para a pesquisa</a>
    </div>
  </form>
</div>
